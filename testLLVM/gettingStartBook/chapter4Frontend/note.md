code from chapter4 of get start with llvm lib
